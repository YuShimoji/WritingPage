## Why

執筆体験をミニマルと拡張可能な“万能ツールボックス”の両立に向け、将来UI強化の方向性を体系化し、段階的に実装する。核心はガジェットを基盤としたツリーペイン/フォルダ構造、柔軟なパネルレイアウト、TyporaライクなMarkdown体験、タイプライターモード、オートセーブ/スナップショット強化、インタラクティブ画像、コンテンツ間リンクを統合すること。

## What Changes

- ツリーペイン・フォルダ構造（ガジェットの階層化・拡張可能レジストリ連携）
- 追加ガジェット（例: コルクボード）
- TyporaのようなMarkdown対応（ライブプレビュー、ショートカット、インライン画像互換）
- タイプライターモード（カーソル高さ固定・改行時の張り付き強度調整）
- オートセーブ/スナップショットの強化（閾値/間隔設定、復元UI）
- 画像のインタラクティブ機能（VN用途向けのプリセット＋詳細パラメータ編集）
- 自由なパネルレイアウト（Obsidian風のドッキング/分割）
- コンテンツ間リンク（テキスト/画像ともにリンク移動可能、HTML相当の表現）
- 低優先: ダークモード拡張、背景ビジュアル（画像/グラデ/スクロール連動/ランダム化）

## Future Enhancement Ideas (Unprioritized)

以下のアイデアはユーザーからの追加提案であり、将来の実装候補としてメモ:

- フォーカスモード: 現在行以外を減光/ぼかし（集中支援、タイプライターモードと併用）
- コマンドパレット: ショートカットと合わせて操作の可視化（検索/置換/ガジェット操作を横断）
- Wikilinks/バックリンク/グラフ: `[[link]]` 構文や `doc://` の可視化・相互参照グラフ
- 分割ビュー: 編集/プレビュー、章間比較、スナップショット差分
- タグ/スマートフォルダ: ツリーペインにタグ軸、保存された検索、仮想フォルダ
- Pomodoro/集中タイマー: HUD連携のセッション管理
- アクセシビリティ: 高コントラスト、フォント可変、スクリーンリーダー対応
- キーバインド編集: ショートカットの再割当
- ポータブル書き出し: ワークスペース（文書＋アセット＋設定）をZip化
- 画像フィルタ/レイヤ: ぼかし/色相/彩度/セピア/合成などの調整を数値で管理

## Impact

- Affected specs: workspace-ui, editor-markdown, editor-typewriter, autosave, images-interactive, panels-layout, content-linking, theme-visuals
- Affected code: js/editor.js, js/storage.js, js/gadgets.js, js/images.js, js/app.js, css/style.css, index.html
- Testing: E2E（Playwright）、dev-check拡張
