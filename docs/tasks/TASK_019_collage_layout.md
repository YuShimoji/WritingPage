# Task: コラージュレイアウト機能実装

Status: CLOSED
Tier: 1
Branch: main
Owner: Worker
Created: 2026-01-05T00:00:00+09:00
Report: docs/reports/REPORT_TASK_019.md
## Objective

- 複数画像の配置・レイアウト機能（コラージュレイアウト）を実装する
- ビジュアルノベル制作において、複数画像を自由に配置できるようにする

## Context

- 基本的な画像挿入は実装済み
- `README.md` の「開発中・優先課題」に「ドラッグ&ドロップした画像の位置調整・サイズ変更・コラージュレイアウト」が記載されている
- コラージュレイアウト機能は未実装
- TASK_018（画像位置調整・サイズ変更）と関連する機能

## Focus Area

- `js/images.js`（画像管理機能の拡張）
- `js/editor-images.js`（エディタ内画像操作）
- `css/style.css`（コラージュレイアウトUIのスタイル）

## Forbidden Area

- `.shared-workflows/**`（submodule内の変更は禁止）
- 既存の画像挿入機能の破壊的変更

## Constraints

- テスト: E2Eテストでコラージュレイアウト機能を検証
- フォールバック: コラージュレイアウトが失敗した場合、既存のMarkdown構文を維持
- 外部通信: 不要（クライアントサイドのみ）

## DoD

- [x] 複数画像の配置機能を実装
- [x] 画像間の位置関係を管理する仕組みを実装
- [x] コラージュレイアウトの保存・復元機能を実装
- [x] コラージュレイアウトUI（グリッド、自由配置モード）を実装
- [x] E2Eテストを追加
- [x] docs/inbox/ にレポート（REPORT_...md）が作成されている
- [x] 本チケットの Report 欄にレポートパスが追記されている

## Notes

- TASK_018（画像位置調整・サイズ変更）と連携して実装
- ビジュアルノベル制作を想定したレイアウト機能
- パフォーマンスに注意（多数の画像がある場合の動作確認）
