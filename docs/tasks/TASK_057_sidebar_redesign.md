# TASK_057: サイドバー設計の見直し・簡素化

## ステータス: COMPLETED (2025-05-24)

## 問題

サイドバーの情報量が過多で、機能別に分かれたタブ（Structure / Typography / Wiki / Assist）の中身がそれぞれゴチャついている。パネル分離の実装が先送りになっているため、1つのサイドバー内に以下が混在:

- ドキュメント管理（新規作成、切替、削除）
- ロードアウト管理（プリセット保存/適用/複製/削除）
- ガジェットパネル（各タブ配下）
- 設定項目（多数の details/summary 折りたたみ）
- ヘルプリンク

## 現状のサイドバー構造

```
sidebar
├── sidebar-header（Zen Writer タイトル + 閉じるボタン）
├── sidebar-top
│   ├── sidebar-tabs（Structure / Typography / Wiki / Assist）
│   └── sidebar-loadout（ロードアウト管理UI）
└── sidebar-groups（タブ別ガジェットパネル）
    ├── structure-group
    │   └── gadgets-panel（ドキュメント、スナップショット、アウトライン...）
    ├── typography-group
    │   └── gadgets-panel（フォントサイズ、装飾プレビュー...）
    ├── wiki-group
    │   └── gadgets-panel（Wiki ページ、リンク、グラフ...）
    └── assist-group
        └── gadgets-panel（目標設定、統計、サンプル...）
```

## 問題点の詳細

1. **ロードアウトUIが場所を取りすぎ** — ほとんどのユーザーは使わない高度機能が常に表示
2. **ガジェットの details が深い** — 折りたたみの中に折りたたみが入る
3. **タブ切替が頻繁に必要** — 基本的な執筆操作（ドキュメント切替 + 文字数確認）ですら2タブにまたがる
4. **設定とコンテンツの混在** — 「設定を変える」操作と「執筆する」操作がサイドバー内で隣り合っている

## 修正方針

### 短期（TASK_057a — 即座に改善）
1. ロードアウトUIをデフォルト折りたたみまたは設定パネルに移動
2. 執筆に直結する項目（ドキュメント一覧、文字数）をサイドバー上部に固定
3. 不要な details のネスト解消
4. タブ数の削減検討（3タブまたは2タブ + More）

### 中期（TASK_057b — 執筆ロードマップ連動）
1. サイドバーの役割を「ナビゲーション」に特化
2. 設定項目は全て設定パネル（⚙ボタン）に集約
3. ガジェットのドラッグ&ドロップ再配置の安定化
4. コンテキストに応じたサイドバー表示（執筆中 → 最小限 / 整理中 → フル表示）

### 長期（Phase 2-3 連携）
1. 章/話数ナビゲーション（Tree View）
2. Wiki ページへのクイックリンク
3. AI アシストパネルの統合

## 依存

- TASK_053（エディタスクロール修正）
- 執筆ロードマップ（WRITING_ROADMAP.md）
